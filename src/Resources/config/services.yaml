services:
  ars.command.data_migration:
    public: true
    class: DataMigrationBundle\Command\DataMigrationCommand
    tags:
      - console.command

  ars.service.data_migration_checker:
    public: true
    class: DataMigrationBundle\Service\DataMigrationChecker
    arguments:
      - '@doctrine.orm.entity_manager'
      - !tagged 'data_migration'

  ars.service.data_migrator:
    public: true
    class: DataMigrationBundle\Service\DataMigrator

  ars.command.data_checker:
    public: true
    class: DataMigrationBundle\Command\DataMigrationCheckerCommand
    arguments:
      - '@ars.service.data_migration_checker'
    tags:
      - console.command

  DataMigrationBundle\Repository\DataMigrationRepository:
    public: true
    autowire: true
    tags:
      - doctrine.repository_service
